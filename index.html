<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>m0x</title>
<style>
  body {
    margin: 0;
    overflow: hidden;
    display: flex;
    align-items: center;
    justify-content: center;
    background-color: black;
    color: white;
    font-family: 'Press Start 2P', cursive;
  }
  canvas {
    position: absolute;
    top: 0;
    left: 0;
  }
  .caption {
    position: absolute;
    width: 100%;
    text-align: center;
    font-size: 6rem;
    font-family: 'Press Start 2P', sans-serif;
    color: white;
    pointer-events: none;
    background: linear-gradient(0deg, rgba(0,213,214,1) 0%, rgba(8,0,69,1) 50%, rgba(253,45,213,1) 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
</style>
<link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body>

<canvas id="m0xCanvas"></canvas>
<div class="caption" id="caption">m0x</div>

<script>
  const canvas = document.getElementById('m0xCanvas');
  const ctx = canvas.getContext('2d');
  const caption = document.getElementById('caption');

  let starAnimationId, gridAnimationId, captionAnimationId;
  let angle = Math.PI / 2.0;
  let gridOffset = 0;
  const starLayers = [
    { speed: 3.0, color: '#ffffff', size: 3 },
    { speed: 2.0, color: '#cccccc', size: 2 },
    { speed: 1.0, color: '#888888', size: 2 }
  ];
  const stars = [];
  const numStars = 200;

  function resizeCanvas() {
    canvas.width = window.innerWidth;
    canvas.height = window.innerHeight;
  }

  function resetStars() {
    stars.length = 0;
    for (let i = 0; i < numStars; i++) {
      const layerIx = Math.floor(Math.random() * starLayers.length);
      const layer = starLayers[layerIx];
      stars.push({
        x: Math.random() * canvas.width,
        y: Math.random() * (canvas.height * 0.5),
        speed: layer.speed,
        color: layer.color,
        size: layer.size,
        layerIx: layerIx
      });
    }
  }

  function animateStars() {
    ctx.clearRect(0, 0, canvas.width, canvas.height);

    stars.forEach(star => {
      star.x -= star.speed;
      if (star.x < -star.size) {
        star.x = canvas.width + star.size;
        star.y = Math.random() * (canvas.height * 0.5);
      }
      ctx.fillStyle = star.color;
      ctx.fillRect(star.x, star.y, star.size, star.size);
    });

    starAnimationId = requestAnimationFrame(animateStars);
  }

  function animateCaption() {
    const amplitude = canvas.height * 0.5;
    const middle = canvas.height * 0.5;
    const yOffset = middle - Math.abs(Math.sin(angle)) * amplitude;
    caption.style.top = `${yOffset}px`;

    angle += 0.01;
    if (angle >= Math.PI) {
      angle = 0;
    }

    captionAnimationId = requestAnimationFrame(animateCaption);
  }

  function drawGrid() {
    const horizon = canvas.height * 0.5;
    const gridHeight = canvas.height * 0.5;
    const numVerticalLines = canvas.width / 15;
    const numHorizontalLines = canvas.height / 50;

    ctx.lineWidth = 1;

    for (let i = 0; i <= numVerticalLines; i++) {
      const x = (i - numVerticalLines / 2) * 150 + gridOffset;
      const xStart = canvas.width / 2 + x / 8;
      const xEnd = canvas.width / 2 + x;

      const gradient = ctx.createLinearGradient(0, horizon, 0, horizon + gridHeight);
      gradient.addColorStop(0, "rgba(255, 155, 255, 0.1)");
      gradient.addColorStop(1, "rgba(255, 155, 255, 1.0)");

      ctx.strokeStyle = gradient;
      ctx.beginPath();
      ctx.moveTo(xStart, horizon);
      ctx.lineTo(xEnd, horizon + gridHeight);
      ctx.stroke();
    }

    for (let j = 1; j <= numHorizontalLines; j++) {
      const y = horizon + Math.pow(j / numHorizontalLines, 3) * gridHeight;

      const opacity = (j / numHorizontalLines) * 0.5;
      ctx.strokeStyle = `rgba(255, 155, 255, ${opacity})`;

      ctx.beginPath();
      ctx.moveTo(0, y);
      ctx.lineTo(canvas.width, y);
      ctx.stroke();
    }

    gridOffset -= 18;
    if (gridOffset <= -150) {
      gridOffset = 0;
    }

    gridAnimationId = requestAnimationFrame(drawGrid);
  }

  function startAnimations() {
    resizeCanvas();
    resetStars();
    animateStars();
    animateCaption();
    drawGrid();
  }

  function stopAnimations() {
    cancelAnimationFrame(starAnimationId);
    cancelAnimationFrame(gridAnimationId);
    cancelAnimationFrame(captionAnimationId);
  }

  let resizeTimeout;
  window.addEventListener('resize', () => {
    stopAnimations();
    clearTimeout(resizeTimeout);
    resizeTimeout = setTimeout(() => {
      startAnimations();
    }, 200);
  });

  startAnimations();
</script>

</body>
</html>

